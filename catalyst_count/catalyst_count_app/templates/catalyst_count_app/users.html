{% extends "catalyst_count_app/base.html" %}

{% block title %}Users{% endblock title %}

{% block content %}
{% include "catalyst_count_app/navbar.html" %}

{% if messages %}
       
{% for message in messages %}<div class="alert alert-{{message.tags}} alert-dismissible fade show">{{ message }}
  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>{% endfor %}

{% endif %}
<div class="row">
    <div class="col-sm-6 offset-3">
      <a href="{% url 'createpage' %}" class="btn btn-success my-2 float-end">Add New</a>
      <table class="table">
        <thead>
          <tr>
            <th scope="col">User Name</th>
            <th scope="col">Email</th>
            <th scope="col">Status</th>
            <th scope="col">Action</th>
          </tr>
        </thead>
        <tbody>
          {% for user in users %}
          <tr>
            <th scope="row">{{user.username}}</th>
            <td>{{user.email}}</td>
            <td> {% if user.is_active %}Active {% else %}Inactive{% endif %}</td>
            <td>
              <form action="{% url 'deleteuser' user.id %}" method="post">
                {% csrf_token %}
                <button class="badge text-bg-secondary" type="submit">Delete</button>
              </form>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>

    </div>
</div>

{% endblock content %} 